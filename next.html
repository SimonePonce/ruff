<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blooming Flowers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #fff5f7 0%, #ffe4ec 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 400px;
            height: 400px;
        }

        /* full-screen garden when using #garden */
        #garden {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .flower {
            position: absolute;
            width: 120px;
            height: 120px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            animation: floatUp 2000ms cubic-bezier(.22,.9,.3,1) forwards;
        }

        .petal {
            position: absolute;
            left: 50%;
            top: 16%;
            width: 28px;
            height: 70px;
            background: linear-gradient(135deg, var(--c1, #ffb3d9) 0%, var(--c2, #ff99cc) 100%);
            border-radius: 50% 50% 40% 40%;
            transform-origin: 50% 85%;
            transform: rotate(var(--rot)) scale(0.18);
            opacity: 0;
            filter: blur(2px);
            animation: petal-bloom 700ms cubic-bezier(.2,.8,.2,1) forwards;
        }

        .center {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 14px;
            height: 14px;
            background: #ffd48f;
            border-radius: 50%;
            transform: translate(-50%,-50%) scale(0);
            box-shadow: 0 0 10px rgba(0,0,0,0.06);
            animation: center-bloom 420ms cubic-bezier(.2,.8,.2,1) 300ms forwards;
        }

        @keyframes petal-bloom {
            0% { opacity: 0; transform: rotate(var(--rot)) scale(0.18) translateY(0); }
            60% { opacity: 1; transform: rotate(var(--rot)) scale(1.05) translateY(-8px); filter: blur(0); }
            100% { opacity: 1; transform: rotate(var(--rot)) scale(0.98) translateY(-6px); }
        }

        @keyframes center-bloom {
            to { transform: translate(-50%,-50%) scale(1); }
        }

        @keyframes floatUp {
            0% { transform: translate(-50%,-50%) translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translate(-50%,-60%) translateY(-12px) rotate(12deg); opacity: 0; }
        }

        h1 {
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #ff66b3;
            font-size: 28px;
            font-weight: 400;
            letter-spacing: 2px;
        }
    </style>
</head>
<body>
    <h1>For ruffa only!</h1>
    <div class="container" id="garden" aria-label="Flower garden">
        <!-- Flowers are generated with JS. Click anywhere to bloom more. -->
    </div>
    
    <div id="envelope" style="position: absolute; bottom: 60px; left: 50%; transform: translateX(-50%); width: 380px; height: 260px; cursor: pointer;">
        <!-- Envelope back -->
        <div style="position: absolute; width: 100%; height: 100%; background: #f4e8d8; border: 2px solid #8b7355; border-radius: 4px; box-shadow: 0 8px 16px rgba(0,0,0,0.15);"></div>
        
        <!-- Envelope flap -->
        <div id="flap" style="position: absolute; width: 100%; height: 50%; background: linear-gradient(135deg, #e8dcc8 0%, #d9cbb5 100%); border: 2px solid #8b7355; border-bottom: none; border-radius: 4px 4px 0 0; transform-origin: top center; transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); display: flex; align-items: center; justify-content: center; color: #8b7355; font-size: 20px;">
            ✉️
        </div>
        
        <!-- Message inside -->
        <div id="message" style="position: absolute; width: 85%; height: 80%; top: 55%; left: 50%; transform: translate(-50%, -50%); padding: 20px; background: #fffef5; border-radius: 2px; opacity: 0; pointer-events: none; text-align: center; transition: opacity 0.6s 0.3s; font-family: 'Georgia', serif; color: #5d4e37; line-height: 1.6; letter-spacing: 0.3px; font-size: 13px; font-style: italic;">
            Thank you for accepting me and loving me without second thoughts.<br>I don't know how to express my gratitude, but I hope this little garden brightens your day as you do mine.<br>No words can express how much you mean to me. You are my sunshine and everything.<br>Forever grateful to have you in my life.<br>With all my love, phillip..
        </div>
    </div>
    <script>
        // Add keyboard interaction for blooming
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                const cx = window.innerWidth / 2;
                const cy = window.innerHeight / 2;
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const angle = Math.random() * Math.PI * 2;
                        const r = 20 + Math.random() * 100;
                        const x = cx + Math.cos(angle) * r;
                        const y = cy + Math.sin(angle) * r;
                        createFlower(x, y, 0.8 + Math.random() * 0.7);
                    }, i * 100);
                }
            }
        });

        // Add double-click for centered burst
        document.addEventListener('dblclick', (e) => {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const angle = Math.random() * Math.PI * 2;
                    const r = 30 + Math.random() * 120;
                    const x = e.clientX + Math.cos(angle) * r;
                    const y = e.clientY + Math.sin(angle) * r;
                    createFlower(x, y, 1 + Math.random() * 0.6);
                }, i * 80);
            }
        });
    </script>


    <script>
    const envelope = document.getElementById('envelope');
    const flap = document.getElementById('flap');
    const message = document.getElementById('message');
    let isOpen = false;

    envelope.addEventListener('click', ()=>{
        isOpen = !isOpen;
        if(isOpen){
            flap.style.transform = 'rotateX(180deg)';
            message.style.opacity = '1';
        } else {
            flap.style.transform = 'rotateX(0deg)';
            message.style.opacity = '0';
        }
    });
    </script>

    <script>
    (function(){
      const garden = document.getElementById('garden');
      const palettes = [
        ['#ffb3d9','#ff99cc'],
        ['#ffd4a3','#ffc07a'],
        ['#caffbf','#9ee493'],
        ['#c9f0ff','#9fd7ff'],
        ['#e7c6ff','#d5a8ff'],
        ['#ffe3b3','#ffd08a']
      ];

      function createFlower(x,y,size=1,palette=null,petalCount=8){
        palette = palette || palettes[Math.floor(Math.random()*palettes.length)];
        const flower = document.createElement('div');
        flower.className = 'flower';
        flower.style.left = x + 'px';
        flower.style.top = y + 'px';
        flower.style.width = `${120 * size}px`;
        flower.style.height = `${120 * size}px`;
        flower.style.transform = `translate(-50%,-50%) scale(${size})`;

        for(let i=0;i<petalCount;i++){
          const petal = document.createElement('div');
          petal.className = 'petal';
          petal.style.setProperty('--rot', `${i*(360/petalCount)}deg`);
          petal.style.setProperty('--c1', palette[0]);
          petal.style.setProperty('--c2', palette[1]);
          petal.style.animationDelay = `${i*60}ms`;
          petal.setAttribute('data-delay', '');
          flower.appendChild(petal);
        }

        const center = document.createElement('div');
        center.className = 'center';
        flower.appendChild(center);

        garden.appendChild(flower);

        // clean up after animation
        setTimeout(()=> flower.remove(), 2200);
      }

      function burst(){
        const count = 4 + Math.floor(Math.random()*5);
        const cx = Math.random()*window.innerWidth;
        const cy = Math.random()*window.innerHeight;
        for(let i=0;i<count;i++){
          const angle = Math.random()*Math.PI*2;
          const r = 10 + Math.random()*80;
          const x = cx + Math.cos(angle)*r;
          const y = cy + Math.sin(angle)*r;
          createFlower(x,y,0.6 + Math.random()*0.9);
        }
      }

      // initial bursts for a lively start
      for(let i=0;i<3;i++){ setTimeout(burst, i*220); }

      // periodic autoplay bursts
      const interval = setInterval(burst, 1100 + Math.random()*400);

      // still allow click-to-bloom as a convenience
      garden.addEventListener('click', (e)=>{
        createFlower(e.clientX, e.clientY, 0.7 + Math.random()*0.8);
      });

      // pause bursts on window blur to save CPU
      window.addEventListener('blur', ()=> clearInterval(interval));

    })();
    </script>
</body>
</html>